*** ShutdownThread.smali	2014-08-15 13:38:15.756255734 +0800
--- ShutdownThread.smali	2014-08-15 13:40:18.272259015 +0800
***************
*** 26,40 ****
  
  .field private static final TAG:Ljava/lang/String; = "ShutdownThread"
  
! .field private static mReboot:Z
  
! .field private static mRebootReason:Ljava/lang/String;
  
  .field private static final sInstance:Lcom/android/internal/app/ShutdownThread;
  
! .field private static sIsStarted:Z
  
! .field private static sIsStartedGuard:Ljava/lang/Object;
  
  
  # instance fields
--- 26,40 ----
  
  .field private static final TAG:Ljava/lang/String; = "ShutdownThread"
  
! .field static mReboot:Z
  
! .field static mRebootReason:Ljava/lang/String;
  
  .field private static final sInstance:Lcom/android/internal/app/ShutdownThread;
  
! .field static sIsStarted:Z
  
! .field static sIsStartedGuard:Ljava/lang/Object;
  
  
  # instance fields
***************
*** 145,153 ****
      new-instance v1, Landroid/app/ProgressDialog;
  
      invoke-direct {v1, p0}, Landroid/app/ProgressDialog;-><init>(Landroid/content/Context;)V
! 
      .local v1, pd:Landroid/app/ProgressDialog;
!     const v2, 0x1040124
  
      invoke-virtual {p0, v2}, Landroid/content/Context;->getText(I)Ljava/lang/CharSequence;
  
--- 145,154 ----
      new-instance v1, Landroid/app/ProgressDialog;
  
      invoke-direct {v1, p0}, Landroid/app/ProgressDialog;-><init>(Landroid/content/Context;)V
!     
      .local v1, pd:Landroid/app/ProgressDialog;
! 
!     const v2, 0x60c0191
  
      invoke-virtual {p0, v2}, Landroid/content/Context;->getText(I)Ljava/lang/CharSequence;
  
***************
*** 155,161 ****
  
      invoke-virtual {v1, v2}, Landroid/app/ProgressDialog;->setTitle(Ljava/lang/CharSequence;)V
  
!     const v2, 0x1040128
  
      invoke-virtual {p0, v2}, Landroid/content/Context;->getText(I)Ljava/lang/CharSequence;
  
--- 156,162 ----
  
      invoke-virtual {v1, v2}, Landroid/app/ProgressDialog;->setTitle(Ljava/lang/CharSequence;)V
  
!     const v2, 0x60c01aa
  
      invoke-virtual {p0, v2}, Landroid/content/Context;->getText(I)Ljava/lang/CharSequence;
  
***************
*** 175,181 ****
  
      invoke-virtual {v2, v3}, Landroid/view/Window;->setType(I)V
  
!     invoke-virtual {v1}, Landroid/app/ProgressDialog;->show()V
  
      sget-object v2, Lcom/android/internal/app/ShutdownThread;->sInstance:Lcom/android/internal/app/ShutdownThread;
  
--- 176,182 ----
  
      invoke-virtual {v2, v3}, Landroid/view/Window;->setType(I)V
  
!     invoke-static {p0}, Lcom/android/internal/app/ShutdownThread;->createShutDownDialog(Landroid/content/Context;)V
  
      sget-object v2, Lcom/android/internal/app/ShutdownThread;->sInstance:Lcom/android/internal/app/ShutdownThread;
  
***************
*** 507,513 ****
      const v3, 0x104012a
  
      .local v3, resourceId:I
      :goto_1
      const-string v4, "ShutdownThread"
  
      new-instance v5, Ljava/lang/StringBuilder;
--- 508,520 ----
      const v3, 0x104012a
  
      .local v3, resourceId:I
+ 
+     .local v3, resourceId:I
      :goto_1
+     invoke-static {v3}, Lcom/android/internal/app/ShutdownThread;->getResourceId(I)I
+ 
+     move-result v3
+ 
      const-string v4, "ShutdownThread"
  
      new-instance v5, Ljava/lang/StringBuilder;
***************
*** 541,547 ****
  
      invoke-direct {v4, p0}, Landroid/app/AlertDialog$Builder;-><init>(Landroid/content/Context;)V
  
!     const v5, 0x1040124
  
      invoke-virtual {v4, v5}, Landroid/app/AlertDialog$Builder;->setTitle(I)Landroid/app/AlertDialog$Builder;
  
--- 548,556 ----
  
      invoke-direct {v4, p0}, Landroid/app/AlertDialog$Builder;-><init>(Landroid/content/Context;)V
  
!     invoke-static {}, Lcom/android/internal/app/ShutdownThread;->getTitleResourceId()I
! 
!     move-result v5
  
      invoke-virtual {v4, v5}, Landroid/app/AlertDialog$Builder;->setTitle(I)Landroid/app/AlertDialog$Builder;
  
